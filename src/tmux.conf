# Rebind prefix as Ctrl-Space instead of Ctrl-b
unbind C-b
set -g prefix C-Space
bind Space send-prefix

# force a reload of the config file
bind R source-file ~/.tmux.conf \; display "Reloaded!"

set -g status-keys vi
set-window-option -g mode-keys vi
# yank and such
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send-keys -X copy-pipe-and-cancel "pbcopy"
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "pbcopy"
# move around panes
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind-key -r C-h select-window -t :-
bind-key -r C-l select-window -t :+


# More room for session name
set -g status-left-length 20

# Enable scroll-wheel
set -g mouse on

# Terminal type configuration
set -g default-terminal "xterm-256color"
# tell Tmux that outside terminal supports true color
set -ga terminal-overrides ",xterm-256color:Tc"

# fix insert mode exit lag in vim
set -sg escape-time 0

# name windows from running programs
setw -g automatic-rename on

# don't close windows when the program exits (like vim)
# set-window-option remain-on-exit on

# clear screen
bind k send-keys -R \; clear-history

# quick reverse search
bind-key / run "tmux copy-mode; tmux send-keys ?"
# select most recent URL
# TODO get this to type http into search box, not terminal
bind u run "tmux copy-mode; tmux send-keys ?; send-keys -X http"

# Renumber when closing windows
set-option -g renumber-windows on

# update status line more frequently
set-option -g status-interval 1

# easier and faster switching between next/prev window (don't need to release ctrl after prefix)
bind C-p previous-window
bind C-n next-window
